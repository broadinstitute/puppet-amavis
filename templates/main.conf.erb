
# COMMONLY ADJUSTED SETTINGS:

<% if @_bypass_virus_checks_maps.is_a?(Array) -%>
<% if !@_bypass_virus_checks_maps.empty? -%>
@bypass_virus_checks_maps = (
  <% @_bypass_virus_checks_maps.each do |amap| %><%= amap %>,<% end %>
);
<% end -%>
<% end -%>
<% if @_bypass_spam_checks_maps.is_a?(Array) -%>
<% if !@_bypass_spam_checks_maps.empty? -%>
@bypass_spam_checks_maps = (
  <% @_bypass_spam_checks_maps.each do |amap| %><%= amap %>,<% end %>
);
<% end -%>
<% end -%>
<% if @_bypass_decode_parts.is_a?(Array) -%>
<% if !@_bypass_decode_parts.empty? -%>
@bypass_decode_parts = (
  <% @_bypass_decode_parts.each do |amap| %><%= amap %>,<% end %>
);
<% end -%>
<% end -%>
<% if !@_max_servers.empty? %>$max_servers = <%= @_max_servers %>;
<% end -%>
<% if !@_daemon_user.empty? %>$daemon_user = '<%= @_daemon_user %>';
<% end -%>
<% if !@_daemon_group.empty? %>$daemon_group = '<%= @_daemon_group %>';
<% end -%>
<% if !@_mydomain.empty? %>$mydomain = '<%= @_mydomain %>';
<% end -%>
<% if !@_myhome.empty? %>$MYHOME = '<%= @_myhome %>';
<% end -%>
<% if !@_tempbase.empty? %>$TEMPBASE = "<%= @_tempbase %>";
<% end -%>
<% if !@_tmpdir.empty? %>$ENV{TMPDIR} = "<%= @_tmpdir %>";
<% end -%>
<% if !@_quarantinedir.empty? %>$QUARANTINEDIR = "<%= @_quarantinedir %>";
<% else -%>
$QUARANTINEDIR = undef;
<% end -%>
<% if !@_quarantine_subdir_levels.empty? %>$quarantine_subdir_levels = "<%= @_quarantine_subdir_levels %>";
<% end -%>
<% if !@_release_format.empty? %>$release_format = "<%= @_release_format %>";
<% end -%>
<% if !@_report_format.empty? %>$report_format = "<%= @_report_format %>";
<% end -%>
<% if !@_daemon_chroot_dir.empty? %>$daemon_chroot_dir = "<%= @_daemon_chroot_dir %>";
<% end -%>
<% if !@_db_home.empty? %>$db_home = "<%= @_db_home %>";
<% end -%>
<% if !@_helpers_home.empty? %>$helpers_home = "<%= @_helpers_home %>";
<% end -%>
<% if !@_lock_file.empty? %>$lock_file = "<%= @_lock_file %>";
<% end -%>
<% if !@_pid_file.empty? %>$pid_file = "<%= @_pid_file %>";
<% end -%>
<% if !@_log_level.empty? %>$log_level = <%= @_log_level %>;
<% end -%>
<% if !@_log_recip_templ.empty? %>$log_recip_templ = <%= @_log_recip_templ %>;
<% else -%>
$log_recip_templ = undef;
<% end -%>
<% if !@_do_syslog.empty? %>$do_syslog = <%= @_do_syslog %>;
<% end -%>
<% if !@_syslog_facility.empty? %>$syslog_facility = "<%= @_syslog_facility %>";
<% end -%>
<% if !@_enable_db.empty? %>$enable_db = <%= @_enable_db %>;
<% end -%>
<% if !@_enable_zmq.empty? %>$enable_zmq = <%= @_enable_zmq %>;
<% end -%>
<% if !@_nanny_details_level.empty? %>$nanny_details_level = <%= @_nanny_details_level %>;
<% end -%>
<% if !@_enable_dkim_verification.empty? %>$enable_dkim_verification = <%= @_enable_dkim_verification %>;
<% end -%>
<% if !@_enable_dkim_signing.empty? %>$enable_dkim_signing = <%= @_enable_dkim_signing %>;
<% end -%>
<% if !@_local_domains_maps.empty? %>@local_domains_maps = ( [<% @_local_domains_maps.each do |domain| %>"<%= domain %>",<% end -%>] );
<% end -%>
<% if !@_mynetworks.empty? %>@mynetworks = qw( <% @_mynetworks.each do |network| %><%= network %> <% end -%> );
<% end -%>
<% if !@_unix_socketname.empty? %>$unix_socketname = <%= @_unix_socketname %>;
<% end -%>
<% if !@_inet_socket_port.empty? %>$inet_socket_port = [<% @_inet_socket_port.each do |port| %>"<%= port %>",<% end -%>];
<% end -%>

<% if @_policy_bank -%>
<% @_policy_bank.each_pair do |bank_key, bank_hash| -%>
$policy_bank{'<%= bank_key %>'} = {
<% bank_hash.each_pair do |bank_hash_key, bank_hash_value| %>  <%= bank_hash_key %> => <%= bank_hash_value %>,
<% end -%>
};

<% end -%>
<% end -%>
<% if @_interface_policy -%>
<% @_interface_policy.each_pair do |interface_key, interface_value| -%>
$interface_policy{'<%= interface_key %>'} = '<%= interface_value %>';
<% end -%>
<% end -%>

<% if !@_sa_tag_level_deflt.empty? %>$sa_tag_level_deflt = <%= @_sa_tag_level_deflt %>;
<% end -%>
<% if !@_sa_tag2_level_deflt.empty? %>$sa_tag2_level_deflt = <%= @_sa_tag2_level_deflt %>;
<% end -%>
<% if !@_sa_kill_level_deflt.empty? %>$sa_kill_level_deflt = <%= @_sa_kill_level_deflt %>;
<% end -%>
<% if !@_sa_dsn_cutoff_level.empty? %>$sa_dsn_cutoff_level = <%= @_sa_dsn_cutoff_level %>;
<% end -%>
<% if !@_sa_crediblefrom_dsn_cutoff_level.empty? %>$sa_crediblefrom_dsn_cutoff_level = <%= @_sa_crediblefrom_dsn_cutoff_level %>;
<% end -%>
<% if !@_sa_quarantine_cutoff_level.empty? %>$sa_quarantine_cutoff_level = <%= @_sa_quarantine_cutoff_level %>;
<% end -%>
<% if !@_penpals_bonus_score.empty? %>$penpals_bonus_score = <%= @_penpals_bonus_score %>;
<% end -%>
<% if !@_penpals_threshold_high.empty? %>$penpals_threshold_high = <%= @_penpals_threshold_high %>;
<% end -%>
<% if !@_bounce_killer_score.empty? %>$bounce_killer_score = <%= @_bounce_killer_score %>;
<% end -%>
<% if !@_sa_mail_body_size_limit.empty? %>$sa_mail_body_size_limit = <%= @_sa_mail_body_size_limit %>;
<% end -%>
<% if !@_sa_local_tests_only.empty? %>$sa_local_tests_only = <%= @_sa_local_tests_only %>;
<% end -%>
<% if @_lookup_sql_dsn.is_a?(Array) -%>
<% if !@_lookup_sql_dsn.empty? -%>
@lookup_sql_dsn = (
  <% @_lookup_sql_dsn.each do |dsn| %>[<%= dsn %>],
<% end -%>
);
<% end -%>
<% end -%>
<% if !@_storage_sql_dsn.empty? %>@storage_sql_dsn = <%= @_storage_sql_dsn %>;
<% end -%>
<% if @_storage_redis_dsn.is_a?(Array) -%>
<% if !@_storage_redis_dsn.empty? -%>
@storage_redis_dsn = (
<% @_storage_redis_dsn.each do |dsn| %>
  {<% dsn.each_pair do |dsn_key, dsn_value| %><%= dsn_key %>=><%= dsn_value %>,<% end %>},
<% end -%>
);
<% end -%>
<% end -%>
<% if !@_redis_logging_key.empty? %>$redis_logging_key = <%= @_redis_logging_key %>;
<% end -%>
<% if !@_redis_logging_queue_size_limit.empty? %>$redis_logging_queue_size_limit = <%= @_redis_logging_queue_size_limit %>;
<% end -%>
<% if !@_timestamp_fmt_mysql.empty? %>$timestamp_fmt_mysql = <%= @_timestamp_fmt_mysql %>;
<% end -%>
<% if !@_virus_admin.empty? %>$virus_admin = "<%= @_virus_admin %>";
<% else -%>
$virus_admin = undef;
<% end -%>
<% if !@_mailfrom_notify_admin.empty? %>$mailfrom_notify_admin = "<%= @_mailfrom_notify_admin %>";
<% else -%>
$mailfrom_notify_admin = undef;
<% end -%>
<% if !@_mailfrom_notify_recip.empty? %>$mailfrom_notify_recip = "<%= @_mailfrom_notify_recip %>";
<% else -%>
$mailfrom_notify_recip = undef;
<% end -%>
<% if !@_mailfrom_notify_spamadmin.empty? %>$mailfrom_notify_spamadmin = "<%= @_mailfrom_notify_spamadmin %>";
<% else -%>
$mailfrom_notify_spamadmin = undef;
<% end -%>
<% if !@_mailfrom_to_quarantine.empty? %>$mailfrom_to_quarantine = "<%= @_mailfrom_to_quarantine %>";
<% else -%>
$mailfrom_to_quarantine = '';
<% end -%>
<% if @_addr_extension_virus_maps.is_a?(Array) -%>
<% if !@_addr_extension_virus_maps.empty? -%>
@addr_extension_virus_maps = (
  <% @_addr_extension_virus_maps.each do |amap| %>'<%= amap %>',
<% end -%>
);
<% end -%>
<% end -%>
<% if @_addr_extension_banned_maps.is_a?(Array) -%>
<% if !@_addr_extension_banned_maps.empty? -%>
@addr_extension_banned_maps = (
  <% @_addr_extension_banned_maps.each do |amap| %>'<%= amap %>',
<% end -%>
);
<% end -%>
<% end -%>
<% if @_addr_extension_spam_maps.is_a?(Array) -%>
<% if !@_addr_extension_spam_maps.empty? -%>
@addr_extension_spam_maps = (
  <% @_addr_extension_spam_maps.each do |amap| %>'<%= amap %>',
<% end -%>
);
<% end -%>
<% end -%>
<% if @_addr_extension_bad_header_maps.is_a?(Array) -%>
<% if !@_addr_extension_bad_header_maps.empty? -%>
@addr_extension_bad_header_maps = (
  <% @_addr_extension_bad_header_maps.each do |amap| %>'<%= amap %>',
<% end -%>
);
<% end -%>
<% end -%>
<% if !@_recipient_delimiter.empty? %>$recipient_delimiter = <%= @_recipient_delimiter %>;
<% end -%>
<% if !@_path.empty? %>$path = '<%= @_path %>';
<% end -%>
<% if !@_dspam.empty? %>$dspam = '<%= @_dspam %>';
<% end -%>
<% if !@_maxlevels.empty? %>$MAXLEVELS = <%= @_maxlevels %>;
<% end -%>
<% if !@_maxfiles.empty? %>$MAXFILES = <%= @_maxfiles %>;
<% end -%>
<% if !@_min_expansion_quota.empty? %>$MIN_EXPANSION_QUOTA = <%= @_min_expansion_quota %>;
<% end -%>
<% if !@_max_expansion_quota.empty? %>$MAX_EXPANSION_QUOTA = <%= @_max_expansion_quota %>;
<% end -%>
<% if !@_sa_spam_subject_tag.empty? %>$sa_spam_subject_tag = '<%= @_sa_spam_subject_tag %>';
<% end -%>
<% if !@_defang_virus.empty? %>$defang_virus = <%= @_defang_virus %>;
<% end -%>
<% if !@_defang_banned.empty? %>$defang_banned = <%= @_defang_banned %>;
<% end -%>

<% if @_defang_by_ccat -%>
<% @_defang_by_ccat.each do |ccat| %>$defang_by_ccat{<%= ccat %>} = 1;
<% end -%>
<% end -%>

<% if !@_myhostname.empty? %>$myhostname = '<%= @_myhostname %>';
<% end -%>
<% if !@_notify_method.empty? %>$notify_method = '<%= @_notify_method %>';
<% end -%>
<% if !@_forward_method.empty? %>$forward_method = '<%= @_forward_method %>';
<% end -%>
<% if !@_final_virus_destiny.empty? %>$final_virus_destiny = <%= @_final_virus_destiny %>;
<% end -%>
<% if !@_final_banned_destiny.empty? %>$final_banned_destiny = <%= @_final_banned_destiny %>;
<% end -%>
<% if !@_final_spam_destiny.empty? %>$final_spam_destiny = <%= @_final_spam_destiny %>;
<% end -%>
<% if !@_final_bad_header_destiny.empty? %>$final_bad_header_destiny = <%= @_final_bad_header_destiny %>;
<% end -%>
<% if !@_bad_header_quarantine_method.empty? %>$bad_header_quarantine_method = <%= @_bad_header_quarantine_method %>;
<% end -%>
<% if !@_os_fingerprint_method.empty? %>$os_fingerprint_method = <%= @_os_fingerprint_method %>;
<% end -%>
<% if !@_warnbadhsender.empty? %>$warnbadhsender = <%= @_warnbadhsender %>;
<% end -%>
<% if !@_warnvirusrecip.empty? %>$warnvirusrecip = <%= @_warnvirusrecip %>;
<% end -%>
<% if !@_warnbannedrecip.empty? %>$warnbannedrecip = <%= @_warnbannedrecip %>;
<% end -%>
<% if !@_warnbadhrecip.empty? %>$warnbadhrecip = <%= @_warnbadhrecip %>;
<% end -%>

<% if !@_clean_quarantine_method.empty? %>$clean_quarantine_method = <%= @_clean_quarantine_method %>;
<% end -%>
<% if !@_virus_quarantine_to.empty? %>$virus_quarantine_to = <%= @_virus_quarantine_to %>;
<% end -%>
<% if !@_banned_quarantine_to.empty? %>$banned_quarantine_to = <%= @_banned_quarantine_to %>;
<% end -%>
<% if !@_bad_header_quarantine_to.empty? %>$bad_header_quarantine_to = <%= @_bad_header_quarantine_to %>;
<% end -%>
<% if !@_spam_quarantine_to.empty? %>$spam_quarantine_to = <%= @_spam_quarantine_to %>;
<% end -%>
<% if !@_defang_bad_header.empty? %>$defang_bad_header = <%= @_defang_bad_header %>;
<% end -%>
<% if !@_defang_undecipherable.empty? %>$defang_undecipherable = <%= @_defang_undecipherable %>;
<% end -%>
<% if !@_defang_spam.empty? %>$defang_spam = <%= @_defang_spam %>;
<% end -%>
<%#
@_bypass_banned_checks_maps, @_bypass_header_checks_maps,

@_virus_lovers_maps, @_spam_lovers_maps,
@_banned_files_lovers_maps, @_bad_header_lovers_maps,

@_blacklist_sender_maps
-%>
